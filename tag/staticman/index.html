<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    
    <meta itemprop="name" content="staticman | בלוג פשוט">
    <meta itemprop="description" content="צר עולמי כ  U+200A">

    
    <meta name="twitter:title" content="staticman | בלוג פשוט">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="צר עולמי כ  U+200A">
    <meta name="twitter:site" content="@yehudab">
    <meta name="twitter:creator" content="@yehudab">
    <meta name="twitter:image:src" content="">

    
    <meta name="og:title" content="staticman | בלוג פשוט">
    <meta name="og:description" content="צר עולמי כ  U+200A">
    <meta name="og:image" content="">
    <meta name="og:url" content="https://yehudab.com/">
    <meta name="og:site_name" content="בלוג פשוט">
    <meta name="og:locale" content="en_GB">
    <meta name="og:type" content="website">

    <link rel="icon" type="image/x-icon" href="/favicon.ico"/>

    <title>
      staticman
      
       | בלוג פשוט</title>

    <link rel="stylesheet" href="/assets/main.bundle.css">

    
  </head>
  <body class="flex flex-col min-h-screen">
    <header>
  <nav class="container mx-auto max-w-3xl px-8 pt-2 flex flex-wrap justify-between">
    <div>
      <h1>
        <a href="/">בלוג פשוט</a>
      </h1>
      <p>צר עולמי כ  U+200A</p>
    </div>

    <ul class="flex flex-wrap sm:w-32 w-full mt-6 md:justify-between justify-evenly">
      <li>
        <a href="/blog/about">אודות</a>
      </li>
    </ul>
  </nav>
</header>
    <main class="container mx-auto max-w-3xl p-8 flex-grow">
      
  <p class="text-center text-sm italic mb-6">(פוסטים בתיוג <strong>staticman</strong>.)</p>

  

  <div>
    
        
            <div class="mb-8 border-dotted border-b pb-8 border-gray-600">
                <h2>
                    <a class="block" href="/blog/2020/10/staticman-for-11ty-comments/">ניהול תגובות באמצעות staticman</a>
                </h2>

                <p class="excerpt"></p>

                <span class="block md:inline md:float-left md:pt-4 pt-2 created-date" datetime="Sat Oct 03 2020 10:18:58 GMT+0000 (Coordinated Universal Time)">
                    3 באוקטובר 2020
                </span>

                <a class="tag" href="/tag/staticman">staticman</a><a class="tag" href="/tag/11ty">11ty</a>
                <div class="clear-both"></div>

                <div class="content post">
                    <p>ב<a href="/blog/2020/08/11ty-howto-migrate/" title="מוורדפרס ל-11ty">פוסט הקודם</a> הסברתי איך לייבא את התגובות הישנות מ Wordpress ל-<a href="https://www.11ty.dev/">11ty</a>. בפוסט הזה, אראה איך להתקין שרת <a href="https://staticman.net/">Staticman</a>, ואיך לחבר אליו את טופס התגובות באתר.</p>
<p><img src="/img/2020/10/staticman-logo.png" alt="Staticman logo">
Staticman logo by <a href="http://erlen.co.uk">Erlen Masson</a></p>
<p>גם הפעם הסתמכתי על <a href="https://travisdowns.github.io/blog/2020/02/05/now-with-comments.html" title="Adding Staticman Comments by Travis Downs">מדריך קיים</a> שחיבר Travis Downs עבור שילוב Staticman בבלוג מבוסס Jekyll. בסופו של דבר, ביצעתי את השלבים הבאים:</p>
<ol>
<li><a href="https://travisdowns.github.io/blog/2020/02/05/now-with-comments.html#set-up-github-bot-account">יצירת חשבון בוט ב GitHub</a> (לגמרי לפי המדריך הנ&quot;ל)</li>
<li><a href="https://travisdowns.github.io/blog/2020/02/05/now-with-comments.html#configuring-staticmanyml">הגדרות staticman.yml</a> (גם כן לפי המדריך)</li>
<li>הגדרות staticman בתוך <code>src/globals/site.json</code>. כאן יש הבדל לעומת המדריך, מכוון שקובץ זה יחודי ל 11ty, ובמדריך ההתיחסות היא לסביבת Jekyll. בכל מקרה, העקרונות דומים, ו<a href="https://github.com/yehudab/11r/blob/master/src/includes/comments.njk" title="site.json">כאן</a> תוכלו לראות את ההגדרות שלי.</li>
<li><a href="https://travisdowns.github.io/blog/2020/02/05/now-with-comments.html#set-up-the-api-bridge">הקמת שרת staticman</a>. אחרי יצירת המפתחות, בחרתי בדרך שונה מהמומלץ (הקמה דרך Heroku), ובמקום זה העלתי שרת עצמאי שרץ דרך docker. בניגוד למוסבר בדקומנטציה, כאן יש חוסר <a href="https://github.com/eduardoboucas/staticman/blob/master/docs/docker.md">בתיעוד המקורי</a>, ויש לזכור להגדיר את מפתחות ההצפנה בקובץ <a href="https://github.com/eduardoboucas/staticman/blob/master/docker-compose.yml">docker-compose.yml</a></li>
<li><a href="https://travisdowns.github.io/blog/2020/02/05/now-with-comments.html#invite-and-accept-bot-to-blog-repo" title="Invite and Accept Bot to Blog Repo">הזמנת הבוט להשתתף ב repo</a> (ע&quot;פ המדריך)</li>
<li><a href="https://travisdowns.github.io/blog/2020/02/05/now-with-comments.html#enable-recaptcha" title="Enable reCAPTCHA">הפעלת reCAPCHA</a> - בעיקר על פי המדריך. יש לשים לב שבחלק המתייחס ל <code>‎_config.yml</code> יש לבצע את השינויים במקום זאת ב <code>src/globals/site.json</code></li>
<li><a href="https://travisdowns.github.io/blog/2020/02/05/now-with-comments.html#integrate-comments-into-site" title="Integrate Comments Into Site">שילוב התגובות באתר</a>. כאן ההבדלים מעט יותר משמעותיים, הן בגלל ההבדלים בין Jekyll ל-11ty, והן בגלל הרצון שלי לתמוך בקינון מעבר לרמה אחת. בנוסף, לא אהבתי את ה JS של הפוסט המקורי שמשתש במעורב ב jQuery ו-Vanilla JS. במקום זה השתמשתי בספריה רזה יותר בשם <a href="https://github.com/fabiospampinato/cash">cash</a>, שמאפשרת סינטקס דמוי jQuery במחיר של תמיכה בפחות פיצ'רים ופחות דפדפנים ישנים (אבל עדיין תומכת ב IE11). על הצגת התגובות כתבתי בפוסט הקודם. העבודה על טופס התגובות החדשות מסתכמת בסופו של דבר בקבצי ה <a href="https://github.com/yehudab/11r/blob/master/src/includes/comment-form.njk" title="comment-form.njk">HTML</a>, <a href="https://github.com/yehudab/11r/blob/master/src/styles/comments.css" title="comments.css">CSS</a>, ו-<a href="https://github.com/yehudab/11r/blob/master/src/scripts/comment-form.js" title="comment-form.js">JS </a>אותם תוכלו לראות ב repo הסופי.</li>
</ol>
<p>מוזמנים להגיב למטה ולראות איך כל ה flow עובד. עד לאישור, תוכלו לצפות בתגובות שלכם באזור ה <a href="https://github.com/yehudab/11r/pulls">Pull Requests</a> של הבלוג.</p>

                </div>
            </div>
        
    
</div>

  <div class="grid grid-flow-row grid-cols-3 gap-4 mb-2">
    
    
        <a class="tag mx-auto" href="/tag/TwentyTwenty">TwentyTwenty&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/וורדפרס">וורדפרס&rlm; (8)</a>
    
        <a class="tag mx-auto" href="/tag/SSG">SSG&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/11ty">11ty&rlm; (3)</a>
    
        <a class="tag mx-auto" href="/tag/בלוג">בלוג&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/Docker">Docker&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/Hosting">Hosting&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/לינוקס">לינוקס&rlm; (2)</a>
    
        <a class="tag mx-auto" href="/tag/קוד פתוח ותוכנה חופשית">קוד פתוח ותוכנה חופשית&rlm; (5)</a>
    
        <a class="tag mx-auto" href="/tag/Nunjucks">Nunjucks&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/Comments">Comments&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/staticman">staticman&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/ie8">ie8&rlm; (2)</a>
    
        <a class="tag mx-auto" href="/tag/מיקרוסופט">מיקרוסופט&rlm; (2)</a>
    
        <a class="tag mx-auto" href="/tag/דפדפנים">דפדפנים&rlm; (10)</a>
    
        <a class="tag mx-auto" href="/tag/כללי">כללי&rlm; (3)</a>
    
        <a class="tag mx-auto" href="/tag/אורנג&#39;">אורנג&#39;&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/אתרים בארץ">אתרים בארץ&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/שמישות">שמישות&rlm; (3)</a>
    
        <a class="tag mx-auto" href="/tag/BlogDay2008">BlogDay2008&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/habari">habari&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/הבארי">הבארי&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/CSS">CSS&rlm; (3)</a>
    
        <a class="tag mx-auto" href="/tag/פיירפוקס">פיירפוקס&rlm; (10)</a>
    
        <a class="tag mx-auto" href="/tag/אופרה">אופרה&rlm; (2)</a>
    
        <a class="tag mx-auto" href="/tag/ספארי">ספארי&rlm; (3)</a>
    
        <a class="tag mx-auto" href="/tag/נגנים">נגנים&rlm; (3)</a>
    
        <a class="tag mx-auto" href="/tag/Flip4Mac">Flip4Mac&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/מק">מק&rlm; (3)</a>
    
        <a class="tag mx-auto" href="/tag/גראצ&#39;ו מרקס">גראצ&#39;ו מרקס&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/ogg">ogg&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/video">video&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/Uncategorized">Uncategorized&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/שטויות שמוצאים באתרים">שטויות שמוצאים באתרים&rlm; (3)</a>
    
        <a class="tag mx-auto" href="/tag/אתרים תומכי פיירפוקס">אתרים תומכי פיירפוקס&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/לאומי-קארד">לאומי-קארד&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/ie6">ie6&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/acid2">acid2&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/אינטרנט אקספלורר">אינטרנט אקספלורר&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/Google wave">Google wave&rlm; (2)</a>
    
        <a class="tag mx-auto" href="/tag/בלוגיה">בלוגיה&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/תפוז">תפוז&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/gps">gps&rlm; (2)</a>
    
        <a class="tag mx-auto" href="/tag/ביקורת מוצרים">ביקורת מוצרים&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/garmin">garmin&rlm; (2)</a>
    
        <a class="tag mx-auto" href="/tag/speedtraps">speedtraps&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/ווידג&#39;טים">ווידג&#39;טים&rlm; (4)</a>
    
        <a class="tag mx-auto" href="/tag/רכבת ישראל">רכבת ישראל&rlm; (2)</a>
    
        <a class="tag mx-auto" href="/tag/מזג אויר">מזג אויר&rlm; (2)</a>
    
        <a class="tag mx-auto" href="/tag/חלונות">חלונות&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/wordpress">wordpress&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/שעון קיץ">שעון קיץ&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/חולצה">חולצה&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/nano">nano&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/php">php&rlm; (1)</a>
    
        <a class="tag mx-auto" href="/tag/vi">vi&rlm; (1)</a>
    
</div>

    </main>
    <footer class="bg-gray-900 pb-10">
  <p class="block text-center text-sm mb-6">
    CC-BY-SA
    <a href="/">
      Yehuda Bar Nir
    </a>
    &bull; Built with <a href="https://www.11ty.dev/">11ty</a> 
    &bull; Based on <a target="_blank" href="https://github.com/reeseschultz/11r">11r</a> by
    <a target="_blank" href="https://reeseschultz.com">
      Reese Schultz
    </a> 
  </p>

</footer>
    
    <script src="/assets/lib/cash.js"></script>
    <script src="/assets/main.bundle.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script async src="https://ackee.yehudab.com/blog-utils.js" 
      data-ackee-server="https://ackee.yehudab.com" 
      data-ackee-domain-id="9c5f49e5-e4a2-44dd-99bf-9f38e447246c"
      data-ackee-opts='{ "ignoreLocalhost": true, "detailed": true }'></script>
  </body>
</html>