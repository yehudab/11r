<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="canonical" href="https://yehudab.com/blog/2022/04/geotag-dslr-photos/" />

    
    <meta itemprop="name" content="תיוג מיקום במצלמת DSLR | בלוג פשוט">
    <meta itemprop="description" content="אחרי שנים רבות של צילום במצלמת הטלפון בלבד, החלטתי לחזור למקורות ולקנות מצלמה דיגיטלית ״אמיתית״. בחרתי בדגם כניסה של Canon, וצימדתי לו עדשת פריים טובה, ועוד כמה עדשות זום סבירות.">

    
    <meta name="twitter:title" content="תיוג מיקום במצלמת DSLR | בלוג פשוט">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="אחרי שנים רבות של צילום במצלמת הטלפון בלבד, החלטתי לחזור למקורות ולקנות מצלמה דיגיטלית ״אמיתית״. בחרתי בדגם כניסה של Canon, וצימדתי לו עדשת פריים טובה, ועוד כמה עדשות זום סבירות.">
    <meta name="twitter:site" content="@yehudab">
    <meta name="twitter:creator" content="@yehudab">
    <meta name="twitter:image:src" content="https://yehudab.com/img/2022/04/photo-in-gaig-gps-after-geo-tagging.png">

    
    <meta property="og:title" content="תיוג מיקום במצלמת DSLR | בלוג פשוט">
    <meta property="og:description" content="אחרי שנים רבות של צילום במצלמת הטלפון בלבד, החלטתי לחזור למקורות ולקנות מצלמה דיגיטלית ״אמיתית״. בחרתי בדגם כניסה של Canon, וצימדתי לו עדשת פריים טובה, ועוד כמה עדשות זום סבירות.">
    <meta property="og:image" content="https://yehudab.com/img/2022/04/photo-in-gaig-gps-after-geo-tagging.png">
    <meta property="og:url" content="https://yehudab.com/blog/2022/04/geotag-dslr-photos/">
    <meta property="og:site_name" content="בלוג פשוט">
    <meta property="og:locale" content="he_il">
    <meta property="og:type" content="website">

    <link rel="icon" type="image/x-icon" href="/favicon.ico?v=2"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <title>
      תיוג מיקום במצלמת DSLR
      
       | בלוג פשוט</title>

    <link rel="stylesheet" href="/assets/main.bundle.css">

    <meta name="generator" content="Eleventy v3.0.0">

    
  </head>
  <body class="flex flex-col min-h-screen">
    <header>
  <nav class="container mx-auto max-w-3xl px-8 pt-2 flex flex-wrap justify-between">
    <div>
      <h1>
        <a href="/">בלוג פשוט</a>
      </h1>
      <p>צר עולמי כ  U+200A</p>
    </div>

    <ul class="flex flex-wrap sm:w-32 w-full mt-6 md:justify-between justify-evenly">
      <li>
        <a href="/blog/about">אודות</a>
      </li>
      <li>
        <a href="/archive">ארכיון</a>
      </li>
    </ul>
  </nav>
</header>
<div id="bthn" lang="he"></div>
    <main class="container mx-auto max-w-3xl p-8 grow">
      
    <p></p>
    <div>
        <h2 class="mb-2">תיוג מיקום במצלמת DSLR</h2>

        
            <div class="mb-2">
                <a class="tag Geotagging" href="/tag/Geotagging/">Geotagging</a><a class="tag קוד פתוח ותוכנה חופשית" href="/tag/קוד פתוח ותוכנה חופשית/">קוד פתוח ותוכנה חופשית</a>
            </div>
        

        
            <p class="text-sm italic mb-2">נכתב ב<span datetime="2022-04-23T11:37:27.000+03:00">23 באפריל 2022</span>.
            </p>
        

        
        
            <p class="text-sm italic">
                <a class="comments-count" 
                    href="#comments">
                    2 תגובות
                </a>
            </p>
        

        <div class="content post">
            <p>אחרי שנים רבות של צילום במצלמת הטלפון בלבד, החלטתי לחזור למקורות ולקנות מצלמה דיגיטלית ״אמיתית״. בחרתי <a href="https://www.dpreview.com/products/canon/slrs/canon_eos2000d" title="Canon EOS 2000D">בדגם כניסה של Canon</a>, וצימדתי לו <a href="https://www.dpreview.com/products/canon/lenses/canon_50_1p8_stm" title="Canon EF 50mm F1.8 STM">עדשת פריים טובה</a>, ועוד כמה עדשות זום סבירות.</p>
<p>את הבסיס לשימוש במצלמה למדתי דרך כמה <a href="https://www.youtube.com/user/JaredPolin" title="Jared Polin">ערוצים</a> <a href="https://www.youtube.com/channel/UC9lyUdwosxq_OxC1uggjUPA" title="Photo Genius">פופלריים</a> ב youtube והשאר מניסיון. מה שבעיקר היה חסר לי בצילום במצלמה הזאת (וכנראה נכון למספר גדול מאוד של דגמים, כולל יקרים הרבה יותר) הוא חוסר היכולת לתייג בקלות את מיקום התמונות. זה פחות מפריע אם מצלמים בארוע במקום ידוע, ויותר בעייתי כאשר מצלמים בטיולים.</p>
<p>לחלק מהדגמים אפשר <a href="https://www.bhphotovideo.com/c/product/847538-REG/Canon_6363B001_GPS_Receiver_GP_E2.html" title="Canon GPS Receiver GP-E2">לצמד GPS חיצוני</a>. דגמים אחרים מאפשרים לתייג תוך כדי צילום ע״י אפליקציה שרצה במקביל על הטלפון, אבל זה מחייב הפעלת Wi-Fi על שני המכשירים וגוזלת אחוזי סוללה נכבדים תוך כדי שימוש. בכל מקרה, למצלמה שלי לא ניתן לחבר את המכשיר החיצוני, וגם דרך האפליקציה הרשמית של קנון לא הצלחתי לתייג תוך כדי תנועה. יותר מזה, כאשר הטלפון מחובר ל Wi-Fi של המצלמה, אין אפשרות להתחבר במקביל לאינטרנט.</p>
<p>כדי לפתור את הבעיה, פיתחתי תהליך עבודה פשוט (יחסית...). התהליך כולל שלושה שלבים:</p>
<ol>
<li>
<p>הקלטת מסלול ההליכה. את זה אני בדרך-כלל עושה ממילא כדי לדעת נתונים כמו מרחק וקצב ההליכה, כמות עליות וירידות, ולפעמים כדי למצוא את הרכב בסוף המסלול. אני משתמש באפליקציה החינמית <a href="https://www.gaiagps.com">Gaia GPS</a>, אבל כל אפליקציה שיודעת ליצא קבצי GPX של המסלול תעשה את העבודה. במקרה של האפליקציה הזאת, ההקלטה גם נשמרת בענן, ואפשר בקלות להוריד אותה למחשב דרך האתר שלהם:</p>
<p><img src="/img/2022/04/gaia-gps-export-to-gpx.png" alt=""></p>
</li>
<li>
<p>סינכרון הזמנים בין שעון המצלמה לשעון הטלפון. לכל צורך מעשי, מספיק לעדכן פעם בשבוע-שבועיים את שעון המצלמה. מצד שני, לכל צורך מעשי כנראה מספיק לצלם בטלפון, אז לא בשביל זה באנו לכאן... מה שאני עושה הוא לצלם במצלמת ה DSLR קוד QR שמוצג על הטלפון ומתחלף כל שניה ומכיל את התאריך והשעה המדוייקים. הצילום מכיל כמטא-דתה את השעה בשעון המצלמה, וה QR מקודד את השעה המדוייקת וכך ניתן לדעת מה ההפרש. הייתי בטוח שיש המון אפליקציות שמציגות את השעה ב-QR-ית, אבל לא מצאתי. מה שכן מצאתי הוא <a href="https://github.com/kaelhem/qr-clock" title="QR clock by kaelhem">אפליקציית ווב בקוד פתוח</a>, אבל היא הציגה את התאריך בפורמט לא נח לפרסור, אז <a href="https://github.com/yehudab/qr-clock" title="QR clock GitHub repo">מיזלגתי אותה</a> והעלתי עותק פרטי <a href="https://apps.yehudab.com/qr-clock/" title="QR Clock">לאתר שלי</a>. ככה נראה צילום כזה:</p>
<p><img src="/img/2022/04/qr-clock.jpg" alt=""></p>
</li>
<li>
<p>הורדת קבצי ההליכה והתמונות (כולל תמונת ה QR) למחשב והפעלת סקריפט שמתייג את המיקום תוך כדי ההתחשבות בהפרש הזמנים. לשם כך אני משתמש בשתי תוכנות בקוד פתוח: <a href="https://github.com/mchehab/zbar" title="zbar GitHub repo">zbar</a> שיודעת לחלץ את השעה מקוד ה QR, ו-<a href="https://exiftool.org">ExifTool</a> שיודעת לחלץ את שעת הצילום מתמונת שעון ה-QR  ולתייג מיקום ע״פ קובץ GPX והפרש זמנים. את הסקריפט עצמו (גרסה למק, יתכן שלא יעבוד as-is בלינוקס) אפשר למצוא ב <a href="https://github.com/yehudab/things/blob/main/geotag.sh" title="geotag.sh in GitHub">GitHub שלי</a>.</p>
<p>בהנחה שהקלטת המסלול נשמרה בקובץ: track.pgx, תמונת שעון ה QR נשמרה בקובץ qr.jpeg, וכל התמונות מהמסלול הזה נשמרו בתיקיה הנוכחית, הפעלת הסקירפט נעשית ע״י שורה אחת:</p>
</li>
</ol>
<pre class="language-bash"><code class="language-bash">geotag.sh qr.jpeg track.gpx</code></pre>
<p>עכשיו נוכל לראות את התמונות בדיוק במקום שבו הן צולמו:</p>
<p><img src="/img/2022/04/photo-in-gaig-gps-after-geo-tagging.png" alt=""></p>

        </div>

<div class="comments" id="comments">
    
        <h3>תגובות:</h5>
        
    <ul>
        
            <li data-comment-id="ad9a8970-c4ba-11ec-802a-ef941e8c4abc">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="https://hatul. info">חתול</a>
                    
          (25 באפריל 2022 בשעה 20:11): 
        </p>
                <p>אני לא מבין למה אצלך היה מסובך. אני משתמש ב-exiftool בשביל לתייג תמונות ממצלמה די ישנה לפי קובץ gpx בלי שום qr. השעה במצלמה מכוונת ידנית ולא צריך יותר. 
הפקודה הזו מספיקה:
&lt;code&gt;exiftool -geotag ./*.gpx -overwrite_original&lt;/code&gt; .</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="5ef7bfb0-c4cc-11ec-802a-ef941e8c4abc">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="https://yehudab.com">יהודה</a>
                    
          (25 באפריל 2022 בשעה 22:17): 
        </p>
                <p>כמו שכתבתי בפוסט: ״לכל צורך מעשי, מספיק לעדכן פעם בשבוע-שבועיים את שעון המצלמה״. החלק של ה QR הוא באמת nice to have, וגם סוג של תרגיל באיסוף של כלים בקוד פתוח.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
    </ul>

    

    
</div>
            <p class="uppercase text-xs mt-6">הבא</p>
            <p class="font-bold mb-2">
                <a href="/blog/2022/09/Israel-trail-1/">שביל ישראל 1 - ארץ ירדן וחרמונים</a>
            </p>
        
            <p class="uppercase text-xs mt-6">הקודם</p>

            <p class="font-bold">
                <a href="/blog/2020/12/back-to-the-mac/">חזרה למק</a>
            </p>
        
    </div>

    </main>
    <footer class="bg-gray-900 pb-10">
  <p class="block text-center text-sm mb-6">
    CC-BY-SA
    <a href="/">
      Yehuda Bar Nir
    </a>
    &bull; Built with <a href="https://www.11ty.dev/">11ty</a> 
    &bull; Based on <a target="_blank" href="https://github.com/reeseschultz/11r">11r</a> by
    <a target="_blank" href="https://reeseschultz.com">
      Reese Schultz
    </a>
    &bull; אתר נגיש <a href="/blog/accessibility-statement/">הצהרת נגישות</a>
    
  </p>

</footer>
    
    <script src="/assets/lib/cash.js"></script>
    <script src="/assets/main.bundle.js"></script>
    <script async src="https://ackee.yehudab.com/blog-utils.js" 
      data-ackee-server="https://ackee.yehudab.com"
      data-ackee-domain-id="9c5f49e5-e4a2-44dd-99bf-9f38e447246c"
      data-ackee-opts='{ "ignoreLocalhost": true, "detailed": true, "ignoreOwnVisits": true }'></script>
    <script async src="https://bringthemhomenow.net/1.1.0/hostages-ticker.js" 
      integrity="sha384-DHuakkmS4DXvIW79Ttuqjvl95NepBRwfVGx6bmqBJVVwqsosq8hROrydHItKdsne"
      crossorigin="anonymous"></script> 
  </body>
</html>