<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    
    <meta itemprop="name" content="תיוג מיקום במצלמת DSLR | בלוג פשוט">
    <meta itemprop="description" content="צר עולמי כ  U+200A">

    
    <meta name="twitter:title" content="תיוג מיקום במצלמת DSLR | בלוג פשוט">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="צר עולמי כ  U+200A">
    <meta name="twitter:site" content="@yehudab">
    <meta name="twitter:creator" content="@yehudab">
    <meta name="twitter:image:src" content="">

    
    <meta name="og:title" content="תיוג מיקום במצלמת DSLR | בלוג פשוט">
    <meta name="og:description" content="צר עולמי כ  U+200A">
    <meta name="og:image" content="">
    <meta name="og:url" content="https://yehudab.com/">
    <meta name="og:site_name" content="בלוג פשוט">
    <meta name="og:locale" content="en_GB">
    <meta name="og:type" content="website">

    <link rel="icon" type="image/x-icon" href="/favicon.ico"/>

    <title>
      תיוג מיקום במצלמת DSLR
      
       | בלוג פשוט</title>

    <link rel="stylesheet" href="/assets/main.bundle.css">

    
  </head>
  <body class="flex flex-col min-h-screen">
    <header>
  <nav class="container mx-auto max-w-3xl px-8 pt-2 flex flex-wrap justify-between">
    <div>
      <h1>
        <a href="/">בלוג פשוט</a>
      </h1>
      <p>צר עולמי כ  U+200A</p>
    </div>

    <ul class="flex flex-wrap sm:w-32 w-full mt-6 md:justify-between justify-evenly">
      <li>
        <a href="/blog/about">אודות</a>
      </li>
    </ul>
  </nav>
</header>
    <main class="container mx-auto max-w-3xl p-8 flex-grow">
      
    <p></p>
    <div>
        <h2>תיוג מיקום במצלמת DSLR</h2>

        

        
            <div class="mb-2">
                <a class="tag Geotagging" href="/tag/Geotagging">Geotagging</a><a class="tag קוד פתוח ותוכנה חופשית" href="/tag/קוד פתוח ותוכנה חופשית">קוד פתוח ותוכנה חופשית</a>
            </div>
        

        
            <p class="text-sm italic">נכתב ב<span datetime="Sat Apr 23 2022 08:37:27 GMT+0000 (Coordinated Universal Time)">23 באפריל 2022</span>.</p>
        

        <div class="content post">
            <p>אחרי שנים רבות של צילום במצלמת הטלפון בלבד, החלטתי לחזור למקורות ולקנות מצלמה דיגיטלית ״אמיתית״. בחרתי <a href="https://www.dpreview.com/products/canon/slrs/canon_eos2000d" title="Canon EOS 2000D">בדגם כניסה של Canon</a>, וצימדתי לו <a href="https://www.dpreview.com/products/canon/lenses/canon_50_1p8_stm" title="Canon EF 50mm F1.8 STM">עדשת פריים טובה</a>, ועוד כמה עדשות זום סבירות.</p>
<p>את הבסיס לשימוש במצלמה למדתי דרך כמה <a href="https://www.youtube.com/user/JaredPolin" title="Jared Polin">ערוצים</a> <a href="https://www.youtube.com/channel/UC9lyUdwosxq_OxC1uggjUPA" title="Photo Genius">פופלריים</a> ב youtube והשאר מניסיון. מה שבעיקר היה חסר לי בצילום במצלמה הזאת (וכנראה נכון למספר גדול מאוד של דגמים, כולל יקרים הרבה יותר) הוא חוסר היכולת לתייג בקלות את מיקום התמונות. זה פחות מפריע אם מצלמים בארוע במקום ידוע, ויותר בעייתי כאשר מצלמים בטיולים.</p>
<p>לחלק מהדגמים אפשר <a href="https://www.bhphotovideo.com/c/product/847538-REG/Canon_6363B001_GPS_Receiver_GP_E2.html" title="Canon GPS Receiver GP-E2">לצמד GPS חיצוני</a>. דגמים אחרים מאפשרים לתייג תוך כדי צילום ע״י אפליקציה שרצה במקביל על הטלפון, אבל זה מחייב הפעלת Wi-Fi על שני המכשירים וגוזלת אחוזי סוללה נכבדים תוך כדי שימוש. בכל מקרה, למצלמה שלי לא ניתן לחבר את המכשיר החיצוני, וגם דרך האפליקציה הרשמית של קנון לא הצלחתי לתייג תוך כדי תנועה. יותר מזה, כאשר הטלפון מחובר ל Wi-Fi של המצלמה, אין אפשרות להתחבר במקביל לאינטרנט.</p>
<p>כדי לפתור את הבעיה, פיתחתי תהליך עבודה פשוט (יחסית...). התהליך כולל שלושה שלבים:</p>
<ol>
<li>
<p>הקלטת מסלול ההליכה. את זה אני בדרך-כלל עושה ממילא כדי לדעת נתונים כמו מרחק וקצב ההליכה, כמות עליות וירידות, ולפעמים כדי למצוא את הרכב בסוף המסלול. אני משתמש באפליקציה החינמית <a href="https://www.gaiagps.com">Gaia GPS</a>, אבל כל אפליקציה שיודעת ליצא קבצי GPX של המסלול תעשה את העבודה. במקרה של האפליקציה הזאת, ההקלטה גם נשמרת בענן, ואפשר בקלות להוריד אותה למחשב דרך האתר שלהם:</p>
<p><img src="/img/2022/04/gaia-gps-export-to-gpx.png" alt=""></p>
</li>
<li>
<p>סינכרון הזמנים בין שעון המצלמה לשעון הטלפון. לכל צורך מעשי, מספיק לעדכן פעם בשבוע-שבועיים את שעון המצלמה. מצד שני, לכל צורך מעשי כנראה מספיק לצלם בטלפון, אז לא בשביל זה באנו לכאן... מה שאני עושה הוא לצלם במצלמת ה DSLR קוד QR שמוצג על הטלפון ומתחלף כל שניה ומכיל את התאריך והשעה המדוייקים. הצילום מכיל כמטא-דתה את השעה בשעון המצלמה, וה QR מקודד את השעה המדוייקת וכך ניתן לדעת מה ההפרש. הייתי בטוח שיש המון אפליקציות שמציגות את השעה ב-QR-ית, אבל לא מצאתי. מה שכן מצאתי הוא <a href="https://github.com/kaelhem/qr-clock" title="QR clock by kaelhem">אפליקציית ווב בקוד פתוח</a>, אבל היא הציגה את התאריך בפורמט לא נח לפרסור, אז <a href="https://github.com/yehudab/qr-clock" title="QR clock GitHub repo">מיזלגתי אותה</a> והעלתי עותק פרטי <a href="https://apps.yehudab.com/qr-clock/" title="QR Clock">לאתר שלי</a>. ככה נראה צילום כזה:</p>
<p><img src="/img/2022/04/qr-clock.jpg" alt=""></p>
</li>
<li>
<p>הורדת קבצי ההליכה והתמונות (כולל תמונת ה QR) למחשב והפעלת סקריפט שמתייג את המיקום תוך כדי ההתחשבות בהפרש הזמנים. לשם כך אני משתמש בשתי תוכנות בקוד פתוח: <a href="https://github.com/mchehab/zbar" title="zbar GitHub repo">zbar</a> שיודעת לחלץ את השעה מקוד ה QR, ו-<a href="https://exiftool.org">ExifTool</a> שיודעת לחלץ את שעת הצילום מתמונת שעון ה-QR  ולתייג מיקום ע״פ קובץ GPX והפרש זמנים. את הסקריפט עצמו (גרסה למק, יתכן שלא יעבוד as-is בלינוקס) אפשר למצוא ב <a href="https://github.com/yehudab/things/blob/main/geotag.sh" title="geotag.sh in GitHub">GitHub שלי</a>.</p>
<p>בהנחה שהקלטת המסלול נשמרה בקובץ: track.pgx, תמונת שעון ה QR נשמרה בקובץ qr.jpeg, וכל התמונות מהמסלול הזה נשמרו בתיקיה הנוכחית, הפעלת הסקירפט נעשית ע״י שורה אחת:</p>
</li>
</ol>
<pre class="language-bash"><code class="language-bash">geotag.sh qr.jpeg track.gpx</code></pre>
<p>עכשיו נוכל לראות את התמונות בדיוק במקום שבו הן צולמו:</p>
<p><img src="/img/2022/04/photo-in-gaig-gps-after-geo-tagging.png" alt=""></p>

        </div>

<div class="comments">
    
        <h3>תגובות:</h5>
        
    <ul>
        
            <li data-comment-id="ad9a8970-c4ba-11ec-802a-ef941e8c4abc">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="https://hatul. info">חתול</a>
                    
          (25 באפריל 2022 בשעה 17:11): 
        </p>
                <p>אני לא מבין למה אצלך היה מסובך. אני משתמש ב-exiftool בשביל לתייג תמונות ממצלמה די ישנה לפי קובץ gpx בלי שום qr. השעה במצלמה מכוונת ידנית ולא צריך יותר. 
הפקודה הזו מספיקה:
&lt;code&gt;exiftool -geotag ./*.gpx -overwrite_original&lt;/code&gt; .</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="5ef7bfb0-c4cc-11ec-802a-ef941e8c4abc">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="https://yehudab.com">יהודה</a>
                    
          (25 באפריל 2022 בשעה 19:17): 
        </p>
                <p>כמו שכתבתי בפוסט: ״לכל צורך מעשי, מספיק לעדכן פעם בשבוע-שבועיים את שעון המצלמה״. החלק של ה QR הוא באמת nice to have, וגם סוג של תרגיל באיסוף של כלים בקוד פתוח.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
    </ul>

    

    
        <div id="respond" class="comment-new">
            <form class="comments-form js-form" method="post" action="https://staticman.yehudab.com/v2/entry/yehudab/11r/master/comments">
  <div class="clearfix">
    <h2>כתיבת תגובה</h2>
    <a class="cancel-comment" href="#">ביטול</a>
  </div>
  <span>האימייל לא יוצג באתר. שדות החובה מסומנים *</span>
  <input type="hidden" id="comment-replying-to-id" name="fields[parentId]" value="">
  <input type="hidden" name="options[slug]" value="geotag-dslr-photos">
  <input type="hidden" name="options[reCaptcha][siteKey]" value="6LfnPtEZAAAAAOjThTjcNoPS37UePCEC7AGYLhOM">
  <input type="hidden" name="options[reCaptcha][secret]"  value="CwzOWWGyNqgtCUE5MQs9kHdkNXc2wAsLZiuAXB04ibhAjxE84pI6su8YfEfhln0qCXQ/DJHnKq57Wozmd9X2Xhx0NGRwrqnh9oAqqH+9Y0Av94sPRNYQQh/Y/vr+jQGaM82maK5eWXPNfQ6Xylk3Z/6d/URvGRmbB3cmPnFMJebsjAyQLH2PJPiwV6HjwPRVNsJBJedOg8fZ4Bs5GQa53qrQw3qX7De/nGfmiwbLa+VcY0rTTkTkpsa/QsnamYJoCgiyJG+2MXnlhMVOyQEQyU1L9ZRMb14SAi5ZvFP0MbT2EOJbt/CSKwKNWQrqkfwWSc0xP3jgecG2Tt6BrewRe7IDYYdYadWAzy3hkbqIz9VmYF0stnSo6gsZg3JH1+YUGnWtdLb4//5hl4ETD0Yw88C4w4ddXmoznmkzSyU+yj4UMXGAaRr+VpFwynqJwEwWK19SDIOUXgwScM3HIDiIaLh4PTduY+mSaNx8NyHes9/7yMMPAYYNlot7RzHNaNyTbCLaXjZlSy3QxKIwHrFEI0CRYwO/DMVD+KpKVE/ma3ANuFSP11HERyOgTFuj3xtlJQw5UQnniawvRvVAIlXqBdVRjdX/mHgmJajFbimC4VFqg590rO1YGJo0ej1R43XSe6l0QXqW7AVDkAPl5HZd3cvpSsEVBW01TJcDbYq5yGM=">
  

  <div class="form-line">
    <div class="field-full-line">
      <label for="comment-form-message">
      התגובה שלך *
        <textarea name="fields[message]" type="text" id="comment-form-message" required rows="6"></textarea>
      </label>
    </div>
  </div>

  <div class="form-line">
    <div class="field-half-line md:w-1/2 mb-6 md:mb-0">
      <label for="comment-form-name">
      שם *
        <input name="fields[name]" type="text" id="comment-form-name" placeholder="" required/>
      </label>
    </div>

    <div class="field-half-line md:w-1/2">
      <label for="comment-form-email">
      E-mail *
        <input name="fields[email]" type="email" id="comment-form-email" placeholder="" required/>
      </label>
    </div>
  </div>

  <div class="form-line">
    <div class="field-full-line">
      <label for="hp">
      אתר
        <input name="fields[url]" id="url" type="text">
      </label>
    </div>
  </div>

  <div id="reCaptcha" class="g-recaptcha" data-sitekey="6LfnPtEZAAAAAOjThTjcNoPS37UePCEC7AGYLhOM"></div>

  <button id="comment-form-submit">
      שליחה
  </button>

</form>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none" >
  <symbol id="icon-loading" viewBox="149.8 37.8 499.818 525"><path d="M557.8 187.8c13.8 0 24.601-10.8 24.601-24.6S571.6 138.6 557.8 138.6s-24.6 10.8-24.6 24.6c0 13.2 10.8 24.6 24.6 24.6zm61.2 90.6c-16.8 0-30.6 13.8-30.6 30.6s13.8 30.6 30.6 30.6 30.6-13.8 30.6-30.6c.6-16.8-13.2-30.6-30.6-30.6zm-61.2 145.2c-20.399 0-36.6 16.2-36.6 36.601 0 20.399 16.2 36.6 36.6 36.6 20.4 0 36.601-16.2 36.601-36.6C595 439.8 578.2 423.6 557.8 423.6zM409 476.4c-24 0-43.2 19.199-43.2 43.199s19.2 43.2 43.2 43.2 43.2-19.2 43.2-43.2S433 476.4 409 476.4zM260.8 411c-27 0-49.2 22.2-49.2 49.2s22.2 49.2 49.2 49.2 49.2-22.2 49.2-49.2-22.2-49.2-49.2-49.2zm-10.2-102c0-27.6-22.8-50.4-50.4-50.4-27.6 0-50.4 22.8-50.4 50.4 0 27.6 22.8 50.4 50.4 50.4 27.6 0 50.4-22.2 50.4-50.4zm10.2-199.8c-30 0-54 24-54 54s24 54 54 54 54-24 54-54-24.6-54-54-54zM409 37.8c-35.4 0-63.6 28.8-63.6 63.6S374.2 165 409 165s63.6-28.8 63.6-63.6-28.2-63.6-63.6-63.6z"/>
  </symbol>
</svg>
        </div>
    
</div>
            <p class="uppercase text-xs mt-6">הקודם</p>

            <p class="font-bold">
                <a href="/blog/2020/12/back-to-the-mac/">חזרה למק</a>
            </p>
        
    </div>

    </main>
    <footer class="bg-gray-900 pb-10">
  <p class="block text-center text-sm mb-6">
    CC-BY-SA
    <a href="/">
      Yehuda Bar Nir
    </a>
    &bull; Built with <a href="https://www.11ty.dev/">11ty</a> 
    &bull; Based on <a target="_blank" href="https://github.com/reeseschultz/11r">11r</a> by
    <a target="_blank" href="https://reeseschultz.com">
      Reese Schultz
    </a>
    &bull; אתר נגיש <a href="/blog/accessibility-statement/">הצהרת נגישות</a> 
  </p>

</footer>
    
    <script src="/assets/lib/cash.js"></script>
    <script src="/assets/main.bundle.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script async src="https://ackee.yehudab.com/blog-utils.js" 
      data-ackee-server="https://ackee.yehudab.com"
      data-ackee-domain-id="9c5f49e5-e4a2-44dd-99bf-9f38e447246c"
      data-ackee-opts='{ "ignoreLocalhost": true, "detailed": true, "ignoreOwnVisits": true }'></script>
  </body>
</html>