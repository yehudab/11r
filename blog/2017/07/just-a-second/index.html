<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="canonical" href="https://yehudab.com/blog/2017/07/just-a-second/" />

    
    <meta itemprop="name" content="רק שניה | בלוג פשוט">
    <meta itemprop="description" content="צר עולמי כ  U+200A">

    
    <meta name="twitter:title" content="רק שניה | בלוג פשוט">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="צר עולמי כ  U+200A">
    <meta name="twitter:site" content="@yehudab">
    <meta name="twitter:creator" content="@yehudab">
    <meta name="twitter:image:src" content="">

    
    <meta property="og:title" content="רק שניה | בלוג פשוט">
    <meta property="og:description" content="צר עולמי כ  U+200A">
    <meta property="og:image" content="">
    <meta property="og:url" content="https://yehudab.com/blog/2017/07/just-a-second/">
    <meta property="og:site_name" content="בלוג פשוט">
    <meta property="og:locale" content="he">
    <meta property="og:type" content="website">

    <link rel="icon" type="image/x-icon" href="/favicon.ico"/>

    <title>
      רק שניה
      
       | בלוג פשוט</title>

    <link rel="stylesheet" href="/assets/main.bundle.css">

    
  </head>
  <body class="flex flex-col min-h-screen">
    <header>
  <nav class="container mx-auto max-w-3xl px-8 pt-2 flex flex-wrap justify-between">
    <div>
      <h1>
        <a href="/">בלוג פשוט</a>
      </h1>
      <p>צר עולמי כ  U+200A</p>
    </div>

    <ul class="flex flex-wrap sm:w-32 w-full mt-6 md:justify-between justify-evenly">
      <li>
        <a href="/blog/about">אודות</a>
      </li>
    </ul>
  </nav>
</header>
    <main class="container mx-auto max-w-3xl p-8 grow">
      
    <p></p>
    <div>
        <h2>רק שניה</h2>

        
            <div class="mb-2">
                
            </div>
        

        
            <p class="text-sm italic">נכתב ב<span datetime="2017-07-01T11:28:09+03:00">1 ביולי 2017</span>.
            </p>
        

        <div class="content post">
            <p>רק שניה מפרידה בין השעה 03:14:07 ל 03:14:08 בתאריך: 19 בינואר 2038. לכאורה, זה לא צריך לעניין אף אחד. אבל אם אתה יוניקס/טיים גיק כמוני, התאריך הזה מייד אמור להדליק לך נורה אדומה.<br>
למה? כי בשניה הזאת יעברו בדיוק 2,147,483,648 (או 2 בחזקת 31) שניות מתאריך 1.1.1970 בשעה 00:00:00. מחשב לינוקס בארכיטקטורת 32 ביט לא יכול להציג את הזמן הזה.<br>
נסו להריץ את הפקודה הבאה על מחשב הלינוקס הקרוב:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">date</span> <span class="token parameter variable">--date</span><span class="token operator">=</span><span class="token string">'@2147483647'</span></code></pre>
<p>או במערכות מבוססות BSD (כמו macOS), את הפקודה הזאת:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">date</span> <span class="token parameter variable">-r</span> <span class="token number">2147483647</span></code></pre>
<p>זה אמור לעבוד בלי בעיה. אבל אם תוסיפו שניה נוספת (כלומר להחליף את ה-7 ב-8), אתם עלולים לראות משהו כזה:<br>
<img src="/img/2017/Unix-date-32-bit.jpg" alt="2038 on 32 bit Linux "></p>
<p>לעומת זאת, על מחשב 64 ביט, התוצאה תקינה:<br>
<img src="/img/2017/Unix-date-64-bit.jpg" alt="2038 on 64 bit Linux "></p>
<p>אז למה זה מעניין עכשיו, ומה איכפת לי ממשהו שיקרה בעוד קצת יותר מ-20 שנה?</p>
<p>קודם כל, כי הזמן עובר. 20 שנה נשמע כמו המון זמן, אבל אם תסתכלו סביבכם בחדר, תראו לא מעט מכשירי חשמל שעובדים 20 שנה ויותר. תוסיפו לזה את העובדה שהיום כמעט כל מכשיר (ממנורה ועד טלוויזיה) מחובר לאינטרנט, ותבינו שיתכן שזו פצצת זמן שנדרכת עם כל קניה של מכשיר חדש שנעשית היום. וזה עוד בלי להזכיר מטוסים, בתי חולים, מערכות רכב (מישהו מוכן להיכנס למכונית אוטונומית ב 2038?) רמזורים, מעליות.</p>
<p>צילום המסך העליון, לדוגמה, נלקח ממחשב Raspberry Pi שמחובר למערכת ההשקיה בגינה שלי.<br>
<img src="/img/2017/raspberry-pi-open-sprinkler.jpg" alt="Raspberry Pi with Open Sprinkler "><br>
האם הוא ישרוד עד 2038? אולי. עד עכשיו, החלפתי בממוצע מחשב השקייה כל 10 שנים: הראשון בגלל הבטרייה שזלגה, והשני עדיין עבד, רק שרציתי להחליף אותו בדגם שמאפשר תכנות דרך הרשת במקום ממשק לא ידידותי. למזלי, ה 19 בינואר יוצא בחורף, כך שיהיו לי כמה חודשים טובים לדאוג למחליף במידת הצורך.</p>
<p>ולמה נזכרתי בכל זה עכשיו? כי מחר (2 ביולי 2017) יעבור מספר השניות את סף ה 1.499 מיליארד, ובעוד שבועיים (14 ביולי) הוא יעבור את סף ה 1.5 מיליארד.</p>
<p>השעון מתקתק…</p>
<pre>
<script src="/scripts/msec-ticker.js">
</script>
</pre>

        </div>

<div class="comments">
    
        <h3>תגובות:</h5>
        
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <span class="comment-author">דני</span>
                    
          (1 ביולי 2017 בשעה 12:20): 
        </p>
                <p>אז העולם יוצף בגלל מחשבי גינה מבוססים 32 ביט ;-)</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://yehudab.com/blog">יהודה</a>
                    
          (1 ביולי 2017 בשעה 12:32): 
        </p>
                <p>מעבר לבדיחה, באמת לא חשבתי על האספקט הזה, אלא רק מצב של יבוש. צודק לגמרי.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <span class="comment-author">דני</span>
                    
          (1 ביולי 2017 בשעה 12:35): 
        </p>
                <p>האמת שזה די מפחיד. בדיוק דיברנו על זה בעבודה לפני כמה ימים וחשבנו מתי יקומו החברות לתיקון באג 2038 (ע״ע באג 2000)</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
    </ul>

                
            </li>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://noamkovacs.bandcamp.com">נועם</a>
                    
          (1 ביולי 2017 בשעה 16:28): 
        </p>
                <p>très cool
שנה טובה להחליף מקצוע</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="https://tomercohen.com/">תומר כהן</a>
                    
          (1 ביולי 2017 בשעה 19:43): 
        </p>
                <p>השאלה האמתית היא מה יקרה אם מחשב בקרת ההשקיה שלך יחשוב שהתאריך הוא 1 בינואר 1970. נניח שבכל חישוב תאריך נבצע חיבור/חיסור של ההיסט, ואז אפילו נוכל לייצג תאריכים עתידיים בקלות, כל עוד לא מבקשים לעשות מניפולציות תאריכים. הפתרונות יהיו החל מהוספה של סיבית נוספת לתאריכים כדי לדחות את הקץ (צריך לזכור שאין שום דבר להתייחס לתאריכים מלפני 1970 או אחרי 2038 בתצורת הגדרת הזמן של יוניקס), או פתרונות יצירתיים אחרים (לדוגמה ג׳אווה סקריפט שבתצוגת שנה דו־ספרתית מתייחס לשנה הנוכחית בתור 117; שזה שריד עצוב מתקופת באג 2000). 

האם בשנת 2038 יתקיים הכאוס שהבטיחו לנו שיקרה בשנת 2000? עוד מוקדם לדעת, אבל מה שבטוח שהמערכות הראשונות שיהיה כדאי לחשוב על השדרוג שלהן הוא אלו המפעילות כורים אטומיים ומערכות דומות, שמחזיקות מערכות מחשב עתיקות. דווקא על הראספבי פי שלך אני פחות דואג, כי הוא יכול לקבל עדכוני תוכנה סדירים, וסביר שעד אותו המועד יהיה עדכון לקרנל של לינוקס שיסייע במידת מה לצמצום הנזק האפשרי.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://yehudab.com/blog">יהודה</a>
                    
          (1 ביולי 2017 בשעה 20:35): 
        </p>
                <p>לגמרי לא בטוח שמחשב ההשקיה יוכל להשתדרג בקלות. למשל כרגע הפאי רץ על כרטיס זכרון של 4GB, כאשר 90% כבר תפוסים. מערכת הפעלה שתצא בשנת 2035 (נניח) לטיפול בקרנל 32 ביט, אולי תדרוש מינימום שטח פנוי של 20 ג׳יגה רק לשדרוג, שבטח יחשבו כנפח זעיר בהשוואה להיום. 
אם המערכת באמת תשרוד עד אז, אני מניח שאני פשוט אוציא ואחליף בפאי 64 ביט. שאר הרכיבים יכולים להישאר כמות שהם. 
אתה צודק שמערכות כמו כורים גרעינים, הן הרבה יותר קריטיות.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="https://tomercohen.com/">תומר כהן</a>
                    
          (1 ביולי 2017 בשעה 20:56): 
        </p>
                <p>תזכור שאנחנו מדברים על קרנל בלבד, ואני מאד מקווה שלא תחשוק עד אז בהפעלה של Microsoft Windows על ההתקן הזעיר, ואני לא רואה סיבה שהקרנל יגדל בצורה כה דרסטית עד אז. תסריט הרבה יותר הגיוני לדעתי הוא שעד אז יוחלט להפסיק את התחזוקה של קרנל בגרסת 32 סיביות, ואתה תמצא את המחשב ההשקייה שלך ללא תיקון לבאג 2038 וללא עדכוני אבטחה חשובים. 

מעניין אם בשנת 2038 עדיין נעבוד עם IPv4, כי המעבר ל־IPv6 בסביבה ביתית צפוי לדעתי להיות הרבה יותר כואב.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://yehudab.com/blog">יהודה</a>
                    
          (1 ביולי 2017 בשעה 21:30): 
        </p>
                <p>חס וחלילה ווינדוס. אבל גם הפצות לינוקס גדלות עם הזמן. 
עדכון קרנל בלי לעדכן את כל ההפצה עוד לא יצא לי לעשות.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
    </ul>

                
            </li>
        
    </ul>

                
            </li>
        
    </ul>

    

    
</div>
            <p class="uppercase text-xs mt-6">הבא</p>
            <p class="font-bold mb-2">
                <a href="/blog/2017/07/http2/">HTTP/2</a>
            </p>
        
            <p class="uppercase text-xs mt-6">הקודם</p>

            <p class="font-bold">
                <a href="/blog/2017/06/iphone-10-years/">יומולדת 10 שמח</a>
            </p>
        
    </div>

    </main>
    <footer class="bg-gray-900 pb-10">
  <p class="block text-center text-sm mb-6">
    CC-BY-SA
    <a href="/">
      Yehuda Bar Nir
    </a>
    &bull; Built with <a href="https://www.11ty.dev/">11ty</a> 
    &bull; Based on <a target="_blank" href="https://github.com/reeseschultz/11r">11r</a> by
    <a target="_blank" href="https://reeseschultz.com">
      Reese Schultz
    </a>
    &bull; אתר נגיש <a href="/blog/accessibility-statement/">הצהרת נגישות</a> 
  </p>

</footer>
    
    <script src="/assets/lib/cash.js"></script>
    <script src="/assets/main.bundle.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script async src="https://ackee.yehudab.com/blog-utils.js" 
      data-ackee-server="https://ackee.yehudab.com"
      data-ackee-domain-id="9c5f49e5-e4a2-44dd-99bf-9f38e447246c"
      data-ackee-opts='{ "ignoreLocalhost": true, "detailed": true, "ignoreOwnVisits": true }'></script>
  </body>
</html>