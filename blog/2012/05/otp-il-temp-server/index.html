<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="canonical" href="https://yehudab.com/blog/2012/05/otp-il-temp-server/" />

    
    <meta itemprop="name" content="השרות הנסיוני לתכנון נסיעה בתח&quot;צ עלה לאויר | בלוג פשוט">
    <meta itemprop="description" content="צר עולמי כ  U+200A">

    
    <meta name="twitter:title" content="השרות הנסיוני לתכנון נסיעה בתח&quot;צ עלה לאויר | בלוג פשוט">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="צר עולמי כ  U+200A">
    <meta name="twitter:site" content="@yehudab">
    <meta name="twitter:creator" content="@yehudab">
    <meta name="twitter:image:src" content="">

    
    <meta property="og:title" content="השרות הנסיוני לתכנון נסיעה בתח&quot;צ עלה לאויר | בלוג פשוט">
    <meta property="og:description" content="צר עולמי כ  U+200A">
    <meta property="og:image" content="">
    <meta property="og:url" content="https://yehudab.com/blog/2012/05/otp-il-temp-server/">
    <meta property="og:site_name" content="בלוג פשוט">
    <meta property="og:locale" content="he_il">
    <meta property="og:type" content="website">

    <link rel="icon" type="image/x-icon" href="/favicon.ico"/>

    <title>
      השרות הנסיוני לתכנון נסיעה בתח&quot;צ עלה לאויר
      
       | בלוג פשוט</title>

    <link rel="stylesheet" href="/assets/main.bundle.css">

    
  </head>
  <body class="flex flex-col min-h-screen">
    <header>
  <nav class="container mx-auto max-w-3xl px-8 pt-2 flex flex-wrap justify-between">
    <div>
      <h1>
        <a href="/">בלוג פשוט</a>
      </h1>
      <p>צר עולמי כ  U+200A</p>
    </div>

    <ul class="flex flex-wrap sm:w-32 w-full mt-6 md:justify-between justify-evenly">
      <li>
        <a href="/blog/about">אודות</a>
      </li>
    </ul>
  </nav>
</header>
    <main class="container mx-auto max-w-3xl p-8 grow">
      
    <p></p>
    <div>
        <h2 class="mb-2">השרות הנסיוני לתכנון נסיעה בתח&quot;צ עלה לאויר</h2>

        
            <div class="mb-2">
                
            </div>
        

        
            <p class="text-sm italic mb-2">נכתב ב<span datetime="2012-05-20T06:28:50+03:00">20 במאי 2012</span>.
            </p>
        

        
        
            <p class="text-sm italic">
                <a class="comments-count" 
                    href="#comments">
                    21 תגובות
                </a>
            </p>
        

        <div class="content post">
            <p>פחות משבוע אחרי <a href="http://www.tlv1.co.il/?p=5930">הפרסום הראשון</a> של נתוני התחבורה הציבורית בפורמט תיקני, עלה לאויר <a href="http://otp.hamakor.org.il/">שרות חופשי לתכנון מסלולי נסיעה</a> המבוסס על הנתונים אלה. ניתן לתכנן נסיעה בתחבורה ציבורית מכל מקום לכל מקום בארץ, אם כי לא כל חברות התח&quot;צ מכוסות. בולטת בהעדרה רכבת-ישראל. השרות הוא נסיוני, והכתובת והשרת יוחלפו בקרוב. בנתיים מוזמנים לנסות ולשלוח תגובות למטה.</p>
<p><img src="https://img.skitch.com/20120520-d4dysf5u9ruawex2jm83yihied.png" alt="תכנון מסלול לדוגמה"></p>
<p>שימו לב! השרות מוגש as-is. אין שום הבטחה לתקינות הנתונים מבחינת האפשרות לנסוע במסלול, יעילות המסלול, זמנים, מספרי הקוים, או מחיר הנסיעה (אם וכאשר יפורסם).<br>
שוב תודה לחברי ומנהלי <a href="http://www.hamakor.org.il/">עמותת המקור</a> על התמיכה בפרויקט.</p>

        </div>

<div class="comments" id="comments">
    
        <h3>תגובות:</h5>
        
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <span class="comment-author">עמית</span>
                    
          (20 במאי 2012 בשעה 14:33): 
        </p>
                <p>מקסים
האם כולל מוניות שרות?</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://yehudab.com/blog">יהודה</a>
                    
          (20 במאי 2012 בשעה 14:53): 
        </p>
                <p>תודה. עד כמה שידוע לי מוניות שרות אינן נכללות.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://daTA.GOV.IL">ניר הירשמן</a>
                    
          (20 במאי 2012 בשעה 22:33): 
        </p>
                <p>למה אין רכבות?</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://yehudab.com/blog">יהודה</a>
                    
          (20 במאי 2012 בשעה 22:37): 
        </p>
                <p>כי משרד התחבורה לא סיפק נתוני רכבות עדיין</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <span class="comment-author">שגיא</span>
                    
          (21 במאי 2012 בשעה 10:19): 
        </p>
                <p>מדליק לגמרי, איך מצטרפים לפרוייקט ?

מה לגבי אפליקציה לסמארטפונים, הרי זה מתבקש !</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://yehudab.com/blog">יהודה</a>
                    
          (21 במאי 2012 בשעה 10:27): 
        </p>
                <p>הי שגיא,
אפליקציה לסמארטפון נוכל להרים רק אם נמצא כזאת בקוד פתוח. אם אתה מעוניין להצטרף לפרויקט, זה בהחלט כוון מעולה.
הקוד של opentripplanner מספק גם API, כך שבעיקרון צריך ״רק״ לתפור בין אפליקציה בקוד פתוח לAPI הזה.
יהודה</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <span class="comment-author">שגיא</span>
                    
          (21 במאי 2012 בשעה 10:36): 
        </p>
                <p>בחיפוש קצר בגוגל ומצאתי את 
openmbta,  ואני בטוח שאפשר למצוא עוד.

חוץ מזה, לא חייבים להסתמך על משהו קיים ואפשר
 לבנות  אפליקציה שתתאים לנו הישראלים</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
    </ul>

                
            </li>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <span class="comment-author">יוסי</span>
                    
          (22 במאי 2012 בשעה 14:45): 
        </p>
                <p>מקסים!</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://guysoft.wordpress.com">GuySoft</a>
                    
          (25 במאי 2012 בשעה 5:30): 
        </p>
                <p>היי יהודה, מצאתי משהו שיכול לאפשר לנו לבנות אפליקציה בקוד פתוח שתעבוד על אנדרואיד אייפון ואחרים במכה אחת. 
יש פלטפורמה פתוחה בשם PhoneGap, שמאפשרת לכתוב אפליקציות בג&#39;אווה סקריפט לטלפונים.
התחלתי לשחק איתה, שיתפנה זמן אני יכול לנסות לעזור.
http://phonegap.com/</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://yehudab.com/blog">יהודה</a>
                    
          (25 במאי 2012 בשעה 10:16): 
        </p>
                <p>תודה על הרעיון. לי היה דווקא רעיון לכוון אחר. היום בתחום של סמארטפון יש יתרון ל tranzmate, שאגב מתבססים גם כן על פלטפורמת openTripPlanner, אבל לא ראיתי שהם נותנים שום קרדיט באתר. בכל אופן, הכוון שכן חשבתי עליו הוא דווקא הטלפונים הטיפשים. משהו דומה למה שעשית עם הממשק SMS לטוויטר ב #j14.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <span class="comment-author">Royi</span>
                    
          (27 במאי 2012 בשעה 17:27): 
        </p>
                <p>כל הכבוד על היוזמה!

תודה.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://hatul.info">חתול</a>
                    
          (29 במאי 2012 בשעה 1:15): 
        </p>
                <p>כל הכבוד על המיזם. התפעלתי מהביצוע המהיר.
כמה נקודות שרציתי לכתוב כבר כמה זמן:
1. OSM בעייתי מאוד, חלק מהיישובים מופיעים רק באנגלית ועל יישובים ביו&quot;ש הוא מתעקש שהם בכלל בפלשתין ולא בישראל. בכלל יש שם תערובת מוזרה של עברית, אנגלית וערבית.
2. SMS יכול להיות רעיון מצוין. זה יכול לתת מודל עסקי למיזם וגם לאפשר שימוש נוח בו.
3. האתר דורש עוד לא מעט תיקוני יל&quot;ש (RTL) (כנראה שתוקן בזמן שחיכיתי לכתוב את ההודעה, כל הכבוד).
4. לא נוח שחייבים ללחוץ על המפה ואי אפשר לכתוב מה רוצים. הכי נוח שאפשר לכתוב בשפה טבעית (בערך) כמו באתר של אגד ומשרד התחבורה.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://yehudab.com/blog">יהודה</a>
                    
          (29 במאי 2012 בשעה 2:34): 
        </p>
                <p>תודה רבה,
בתשובה לשאלות:
1. אפשר להחליף למפות גוגל, אבל אז זה קצת מוריד את רעיון החופשיות/פתיחות. 
2. הבעיה העיקרית היא שSMS יחייב כתיבה בטקסט חופשי, ובניגוד לאתר אינטראקטיבי אי אפשר לבקש הבהרות מהמשתמש (למשל אם הכתובת אינה חד משמעית).
3. תודה
4. זה בתכנון. הקוד כבר מוכן, רק צריך עוד קצת שיופים והתאמות מקומיות (למשל לחסוך למשתמש להקיש ״יפו״ אחרי כל כתובת בתל-אביב) ולהעלות לאתר.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <span class="comment-author">בניה</span>
                    
          (1 ביוני 2012 בשעה 18:05): 
        </p>
                <p>כל הכבוד על היוזמה,
בדיוק ראיתי שפורסם המאגר הזה והתפלאתי שלא קיים דבר כזה עדיין (וגיליתי שטעיתי).
מאוד מאוד חבל שאין מידע על הרכבת ודווקא נראה לי הכי פשוט להשיג את המידע הזה.
ניסיתי לראות מתוך עניין מה המערכת תוציא לי כשהמוצא הוא היישוב &quot;נטף&quot; והיעד הוא &quot;נהריה&quot; וקיבלתי שאני צריך ללכת לא מעט :-)

שיהיה בהצלחה עם זה!

&lt;a href=&quot;http://otp.hamakor.org.il/index.html#/submit&amp;amp;fromPlace=%D7%A0%D7%98%D7%A3::31.832023,35.067747&amp;amp;toPlace=%D7%A0%D7%94%D7%A8%D7%99%D7%94::33.013033,35.103759&amp;amp;mode=TRANSIT,WALK&amp;amp;min=TRANSFERS&amp;amp;maxWalkDistance=500&amp;amp;time=14:58&amp;amp;date=1/6/2012&amp;amp;arr=%D7%99%D7%A6%D7%99%D7%90%D7%94&amp;amp;itinID=1&amp;amp;wheelchair=false&quot; rel=&quot;nofollow&quot;&gt;המסלול מנטף לנהריה&lt;/a&gt;</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://yehudab.com/blog">יהודה</a>
                    
          (1 ביוני 2012 בשעה 20:47): 
        </p>
                <p>זה כנראה שילוב של העובדה שאין רכבות יחד עם שעת החישוב שקרובה לכניסת השבת. הבנתי מהעוסקים במלאכה מטעם משרד התחבורה שהרכבות יצטרפו בקרוב. נקווה לטוב.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="https://market.android.com/details?id=org.idansof.otp.ui">עידן</a>
                    
          (2 ביוני 2012 בשעה 17:33): 
        </p>
                <p>לגבי אפליקציה לסמארטפון, אני חושבת שהחל מהבוקר כבר יש כזו:)

בקיץ הקודם, שtranzmate היו עוד בגלגול הקודם שלהם(businfo), התחלתי לפתח אפליקציה לאנדרויד שפועלת מול שרת הOTP  שלהם.

בעקבות בקשה של אנשי tranzmate שיחררתי את האפליקציה ללא תמיכה בישראל(היא ידעה להתחבר רק לtrimet בפורטלנד), אבל בעקבות היוזמה המבורכת שלך ושל העמותה עכשיו זה אפשרי:

https://play.google.com/store/apps/details?id=org.idansof.otp.ui

קוד המקור זמין תחת הLGPL:
https://code.google.com/p/otp-android/
http://code.google.com/p/otp-java-client/</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <span class="comment-author">בניה</span>
                    
          (4 ביוני 2012 בשעה 1:07): 
        </p>
                <p>שלום עידן,
הורדתי את האפליקציה שלך והדבר הראשון שהיה חסר לי זה לקבוע ידנית נקודת מוצא. וזה חשוב משתי סיבות: 1. במידה ואין כרגע קליטת GPS (נניח אני בתוך מבנה) ו2. אם אני רוצה לבדוק תחבורה מנקודת מוצא שאני לא נמצא בה כרגע...
סה&quot;כ נראה מוצלח ואני מאמין שיכול לצאת מזה רק טוב והרבה :-)
אני מאמין שאוריד את קוד המקור ואשחק עם זה קצת בזמן הקרוב.

תודה ושבוע טוב,
בניה</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <span class="comment-author">אמיר עוזר</span>
                    
          (21 באוקטובר 2012 בשעה 0:05): 
        </p>
                <p>בטיול לחו&quot;ל התוודעתי לאפליקציה נהדרת לאנדרואיד בשם Öffi. היא בקוד פתוח, ואפשר ליצור לה פלאג-אינים כדי לאפשר לתמיכה במדינה נוספת. באפליקציה עצמה אתה מגדיר מול איזו רשת תחבורה אתה עובד. כלומר, לא צריך לפרסם אפליקציה נפרדת לשוק הישראלי.
יש לי ידע בתכנות אבל בג&#39;אווה לא התעסקתי הרבה. למרות זאת חשבתי להרים את הכפפה ולפתח פלאגין ישראלי לאפליקציה. המפתח שלה כתב לי שעם נתוני הGTFS בלבד אין הרבה מה לעשות כי הפלאגינים מסתמכים על ה-trip planners של החברות. בישראל אין כזה, אבל ה-API של OTP נראה לי מצוין.
אם מישהו יכול לתת לי כיוון ראשוני לעבודה מול ה-API (כמו, בתור התחלה, מה ה-URL שלו באינסטנס שהעליתם ל&#39;המקור&#39;) אני אשמח לבדוק את זה.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://yehudab.com/blog">יהודה</a>
                    
          (21 באוקטובר 2012 בשעה 8:01): 
        </p>
                <p>הי אמיר,
תודה על הניסיון לעזור. 
ה URL של ה API הוא:
http://otp.hamakor.org.il/opentripplanner-api-webapp/ws/plan
תעוד של הפרמטרים לבקשה תוכל למצוא כאן:
http://www.opentripplanner.org/apidoc/resource_Planner.html
לתשובה לצערי אין תיעוד, אבל נראה לי שתוכל להבין לבד אחרי כמה נסיונות. אם תצטרך עזרה נוספת תוכל לפנות אלי דרך התגובות כאן או ישירות למייל שלי כפי שמופיע בדף ה״אודות״ של הבלוג.
יהודה</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <span class="comment-author">נתנאל</span>
                    
          (24 ביולי 2013 בשעה 20:03): 
        </p>
                <p>שלום, 
האם הניסוי נגמר? אני לא מצליח מזה מספר ימים לגשת ל- http://otp.hamakor.org.il/
האם הוא עבר למקום אחר?
תודה</p>
                <button class="comment-reply">
          להגיב
        </button>
                
                    
    <ul>
        
            <li data-comment-id="">
                <p class="comment-details" >
                    
                        <a class="comment-author" href="http://yehudab.com/blog">יהודה</a>
                    
          (24 ביולי 2013 בשעה 23:39): 
        </p>
                <p>אכן כך. השרת נסגר, וכנראה לא יעלה בכתובת חדשה. המידע עצמו נגיש כרגע דרך גוגל מפס.</p>
                <button class="comment-reply">
          להגיב
        </button>
                
            </li>
        
    </ul>

                
            </li>
        
    </ul>

    

    
</div>
            <p class="uppercase text-xs mt-6">הבא</p>
            <p class="font-bold mb-2">
                <a href="/blog/2014/06/weather-il-2-3/">עדכון לווידג׳ט מזג האויר</a>
            </p>
        
            <p class="uppercase text-xs mt-6">הקודם</p>

            <p class="font-bold">
                <a href="/blog/2012/05/otp-il/">חישוב מסלול נסיעה בתחבורה ציבורית</a>
            </p>
        
    </div>

    </main>
    <footer class="bg-gray-900 pb-10">
  <p class="block text-center text-sm mb-6">
    CC-BY-SA
    <a href="/">
      Yehuda Bar Nir
    </a>
    &bull; Built with <a href="https://www.11ty.dev/">11ty</a> 
    &bull; Based on <a target="_blank" href="https://github.com/reeseschultz/11r">11r</a> by
    <a target="_blank" href="https://reeseschultz.com">
      Reese Schultz
    </a>
    &bull; אתר נגיש <a href="/blog/accessibility-statement/">הצהרת נגישות</a>
    
  </p>

</footer>
    
    <script src="/assets/lib/cash.js"></script>
    <script src="/assets/main.bundle.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script async src="https://ackee.yehudab.com/blog-utils.js" 
      data-ackee-server="https://ackee.yehudab.com"
      data-ackee-domain-id="9c5f49e5-e4a2-44dd-99bf-9f38e447246c"
      data-ackee-opts='{ "ignoreLocalhost": true, "detailed": true, "ignoreOwnVisits": true }'></script>
  </body>
</html>